$(function(){
	$(".yiziding_inpt").click(function(){
		$(".yiziding_inpt").removeClass("inptselected");
		$(this).addClass("inptselected");
	});
	$(".numstyle").click(function(){
		var d = $(this).text();
		if(d=="清空"){
			$(".inptselected").text("");
			return false;
		}else if(d=="返回"){
			return false;
		}
		//console.log(d);
		var ind = $(".selected").index();
		switch(ind){
			case 0:
				var iptleg = "";
				var isHasClass = false;
				$(".yizid .yiziding_inpt").each(function(inds){
					iptleg += $(this).text();
					if($(this).hasClass("inptselected")){
						isHasClass = true;
					}
				})
				if(iptleg.length>0){
					layer.msg("“一字定”只能选择一个数字");
				}else{
					if(!isHasClass){
						layer.msg("请选择上面输入框或者对应位置");
					}else{
						$(".inptselected").text(d);
					}
				}
			  break;
			case 1:
				var iptleg = "";
				var isHasClass = false;
				$(".erzid .yiziding_inpt").each(function(inds){
					iptleg += $(this).text();
					if($(this).hasClass("inptselected")){
						isHasClass = true;
					}
				})
				if(iptleg.length>1){
					layer.msg("“二字定”只能选择两个数字");
				}else{
					if(!isHasClass){
						layer.msg("请选择上面输入框或者对应位置");
					}else{
						$(".inptselected").text(d);
					}
				}
			  break;
			case 2:
				var iptleg = "";
				var isHasClass = false;
				$(".sanzid .yiziding_inpt").each(function(inds){
					iptleg += $(this).text();
					if($(this).hasClass("inptselected")){
						isHasClass = true;
					}
				})
				if(iptleg.length>2){
					layer.msg("“三字定”只能选择三个数字");
				}else{
					if(!isHasClass){
						layer.msg("请选择上面输入框或者对应位置");
					}else{
						$(".inptselected").text(d);
					}
				}
				  break;
			case 3:
				var iptleg = "";
				var isHasClass = false;
				$(".sizid .yiziding_inpt").each(function(inds){
					iptleg += $(this).text();
					if($(this).hasClass("inptselected")){
						isHasClass = true;
					}
				})
				if(iptleg.length>3){
					layer.msg("“四字定”只能选择四个数字");
				}else{
					if(!isHasClass){
						layer.msg("请选择上面输入框或者对应位置");
					}else{
						$(".inptselected").text(d);
					}
				}
				  break;
			case 4:
				  $(".inptselected").text(d);
				  break;
			case 5:
				  $(".inptselected").text(d);
				  break;
			case 6:
				  $(".inptselected").text(d);
				  break;
			default:
		}
	});
	$(".reset").click(function(){
		var ind = $(".selected").index();
		switch(ind){
			case 0:
				$(".yizid .yiziding_inpt").each(function(inds){
					$(this).text("");
				});
			  break;
			case 1:
				$(".erzid .yiziding_inpt").each(function(inds){
					$(this).text("");
				});
			  break;
			case 2:
				$(".sanzid .yiziding_inpt").each(function(inds){
					$(this).text("");
				});
				  break;
			case 3:
				$(".sizid .yiziding_inpt").each(function(inds){
					$(this).text("");
				});
				  break;
			case 4:
				$(".erzix .yiziding_inpt").each(function(inds){
					$(this).text("");
				});
				  break;
			case 5:
				$(".sanzix .yiziding_inpt").each(function(inds){
					$(this).text("");
				});
				  break;
			case 6:
				$(".sizix .yiziding_inpt").each(function(inds){
					$(this).text("");
				});
				  break;
			default:
		}
	});
	$(".bulitNum").click(function(){
		var ind = $(".selected").index();
		switch(ind){
			case 0:
				var bulit = "";
				$(".yizid .yiziding_inpt").each(function(inds){
					var isValue = $(this).text();
					if(isValue==""||isValue==null){
						bulit+="X";
					}else{
						bulit+=isValue;
					}
				});
				if(patch('X',bulit)!=3){
					layer.msg("请继续选择够一位数字");
				}else{
					$(".mun_xiazhu").text(bulit);
					layer.open({
						type: 1,
						title: ['下注号码', 'font-size:12px;padding:0px 0px 0px 10px;height:30px;line-height:30px;text-align:left;'],
						area: ['200px', '300px'],
						btn: ['确认下注'],
						content: $('#trueXZbox'),
						yes: function(index, layero){
							var jio = $("#xiazhuNum").val();
							if(jio==null||jio==""||jio=="null"){
								layer.msg("下注金额不能为空",{icon:2});
								return false;
							}
							var re = /^[1-9]+\.?[0-9]*$/;//判断字符串是否为数字//判断正整数/[1−9]+[0−9]∗]∗/ 
							if (re.test(jio)){
								console.log("都是数字");
							}else{
								console.log("不是数字");
							}
						}
					});
					//submit(bulit,0);
				}
				break;
			case 1:
				var bulit = "";
				$(".erzid .yiziding_inpt").each(function(inds){
					var isValue = $(this).text();
					if(isValue==""||isValue==null){
						bulit+="X";
					}else{
						bulit+=isValue;
					}
				});
				if(patch('X',bulit)!=2){
					layer.msg("请继续选择够两位数字");
				}else{
					layer.msg(bulit);
				}
					break;
			case 2:
				var bulit = "";
				$(".sanzid .yiziding_inpt").each(function(inds){
					var isValue = $(this).text();
					if(isValue==""||isValue==null){
						bulit+="X";
					}else{
						bulit+=isValue;
					}
				});
				if(patch('X',bulit)!=1){
					layer.msg("请继续选择够三位数字");
				}else{
					layer.msg(bulit);
				}
				  break;
			case 3:
				var bulit = "";
				$(".sizid .yiziding_inpt").each(function(inds){
					var isValue = $(this).text();
					if(isValue==""||isValue==null){
						bulit+="X";
					}else{
						bulit+=isValue;
					}
				});
				if(patch('X',bulit)!=0){
					layer.msg("请继续选择够四位数字");
				}else{
					layer.msg(bulit);
				}
				  break;
			case 4:
				var bulit = "";
				$(".erzix .yiziding_inpt").each(function(inds){
					var isValue = $(this).text();
					bulit+=isValue;
				});
				if(bulit.length<2){
					layer.msg("请输入两个数字");
					break;
				}
				layer.msg(bulit);
				  break;
			case 5:
				var bulit = "";
				$(".sanzix .yiziding_inpt").each(function(inds){
					var isValue = $(this).text();
					bulit+=isValue;
				});
				if(bulit.length<3){
					layer.msg("请输入两个数字");
					break;
				}
				layer.msg(bulit);
				  break;
			case 6:
				var bulit = "";
				$(".sizix .yiziding_inpt").each(function(inds){
					var isValue = $(this).text();
					bulit+=isValue;
				});
				if(bulit.length<4){
					layer.msg("请输入两个数字");
					break;
				}
				layer.msg(bulit);
				  break;
			default:
		}
	});
	
	$("#xiazhuNum").change(function(){
		var thisVal = $(this).val();
		var len = thisVal.length;
		if(len>10){
			$(this).val(thisVal.substring(0,9));
		}
	});
})

function patch(re,s){
  re=eval("/"+re+"/ig");
  if(s.match(re)==null){
	  return 0;
  }
  return s.match(re).length;
}

function submit(num,ty){
	$.ajax({
	        url: "/str/userpc/kqskdj/yuiasjx/qwieusk/addNumber",
	        type: "POST",
	        data:{
	        	"form.number":num,
	        	"form.numType":ty
	        },
	        dataType: "json",
	        success: function(data){
				console.log(data);
	        },error:function(){
	        	layer.msg("删除失败");
	        }
	});
}